# Simulink学习

前言：电机控制中matab仿真是一种常见的验证理论和实现代码的方式之一。本人也是在各种招聘软件上看到电机控制岗位对这个技能有要求才觉得应学习一下。这里就是简单记录一下自己的学习历程，一方面便于回顾，另一方面可以加强记忆。本人使用的是matlab 2024a。

[视频出处](https://www.bilibili.com/video/BV1j4411D7pY?spm_id_from=333.788.player.switch&vd_source=fef0e5ae49ec7897f4ba87123a23780c&p=5)

### 框图颜色调节

![image-20250621210025365](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621210025365.png)

选中需要更改的模块，选中格式格式栏，按照自己的需要更改。这里还可以调节是否显示模块的名称等，可以自行探索。

### 输入输出端口及子系统

1. 为什么需要有子系统？子系统模块如何使用？

   允许你将一组逻辑上相关的 Simulink 模块（信号源、运算模块、作用器、其他子系统等）及其内部信号线**打包**成一个单一的、更高层次的模块。这个打包后的模块就是**子系统模块**。

   ![image-20250621205143422](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621205143422.png)

   选中你想要合并的子系统，右键选中“基于所选内容创建子系统”即可

2. 常用的子系统

   ![image-20250621210528511](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621210528511.png)

### 如何查看模块帮助手册

![image-20250621210658656](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621210658656.png)

选中需要查看的模块右键

### Ground/Terminator模块

![image-20250621211136107](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621211136107.png)

1. Ground 模块连接到其输入端口不连接到其他模块的模块。如果您使用具有未连接的输入端口的模块运行仿真，软件会发出警告。使用 Ground 模块将那些未连接的模块接地可以防止出现这些警告。

2. Ground 模块会自动生成与你的输入变量数据类型相一致的零变量



![image-20250621211230886](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621211230886.png)

使用 Terminator 模块终止输出端口未连接其他模块的模块。如果您运行的仿真中有一些模块的输出端口未连接任何模块，Simulink® 将发出警告消息。使用 Terminator 模块终止这些模块，可以防止出现此类警告消息。

### 常量/加减乘除模块

在matlab中 如果你将这个元素看作向量形式 那么这个元素就是竖向排列的形式

**向量被解释为一维数组**：
无论输入是行向量（`[1 2 3]`）或列向量（`[1;2;3]`），统一视为 **长度为 N 的一维向量**（不区分行列）

![image-20250621212724744](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621212724744.png)

如果你将这个元素看作矩阵的形式，那么这个元素就是按照你的书写格式排列的

输入的向量参数（如 `[1 2 3 4 5 6 7 8 9]`）会被视为：

- 行向量 → **1×N 矩阵**（例如 `[1 2 3]` 是 `1×3`）
- 列向量 → **N×1 矩阵**（例如 `[1;2;3]` 是 `3×1`）

![image-20250621213530023](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621213530023.png)

![Snipaste_2025-06-21_21-34-30](./Simulink%E5%AD%A6%E4%B9%A0.assets/Snipaste_2025-06-21_21-34-30.png)

![image-20250621211639244](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621211639244.png)

![image-20250621211837649](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621211837649.png)

#### 乘除法

- 按元素来计算 计算结果就是按照数组形式

![image-20250621212324727](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250621212324727.png)

- 按照矩阵形式相乘得到的结果 取决于这两个相乘的矩阵

![image-20250622000239773](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622000239773.png)

### 总线及示波器模块

可以理解为将多个信号合并为一个参数，类似于c语言中的结构体

![image-20250622000531107](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622000531107.png)![image-20250622002027022](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622002027022.png)

这里取sin信号并对信号进行微分和积分，得到三个信号，通过总线模块将三个信号合并，最后通过示波器输出出来。

### 复用器和分路器模块

![image-20250622002542149](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622002542149.png)

![image-20250622003807636](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622003807636.png)

输出数目中的$[2 2 -1]$中的-1在最后一位代表剩余所有元素，如果有两个-1就是随意元素个数

### 开关模块

一个三个输入从上到下称为abc的话，开关模块是以b的值为判断条件。若b大于或小于阈值输出a/b，否则则输出b/a

![image-20250622005106795](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622005106795.png)

![image-20250622004459274](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622004459274.png)

![image-20250622005239053](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622005239053.png)

### 增益模块

![image-20250622010314057](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622010314057.png)

### 关系运算

![image-20250622010253978](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622010253978.png)

**双输入模式**

| 运算 | 描述                                          |
| :--- | :-------------------------------------------- |
| `==` | 如果第一个输入等于第二个输入，则为 TRUE       |
| `~=` | 如果第一个输入不等于第二个输入，则为 TRUE     |
| `<`  | 如果第一个输入小于第二个输入，则为 TRUE       |
| `<=` | 如果第一个输入小于或等于第二个输入，则为 TRUE |
| `>=` | 如果第一个输入大于或等于第二个输入，则为 TRUE |
| `>`  | 如果第一个输入大于第二个输入，则为 TRUE       |

**单输入模式**

当您为**关系运算符**选择下列运算之一时，模块将切换到单输入模式。

| 运算       | 描述                        |
| :--------- | :-------------------------- |
| `isInf`    | 如果输入为 `Inf`，则为 TRUE |
| `isNaN`    | 如果输入为 `NaN`，则为 TRUE |
| `isFinite` | 如果输入为有限值，则为 TRUE |

### 逻辑运算

![image-20250622010354423](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622010354423.png)

| 运算 | 描述                                  |
| :--- | :------------------------------------ |
| AND  | 如果所有输入均为 TRUE，则为 TRUE      |
| OR   | 如果至少有一个输入为 TRUE，则为 TRUE  |
| NAND | 如果至少有一个输入为 FALSE，则为 TRUE |
| NOR  | 如果所有输入均不为 TRUE，则为 TRUE    |
| XOR  | 如果有奇数个输入为 TRUE，则为 TRUE    |
| NXOR | 如果有偶数个输入为 TRUE，则为 TRUE    |
| NOT  | 如果输入为 FALSE，则为 TRUE           |

### 积分模块

**初始值设置**

1.选择内部初始条件 在积分器内部设置初始值

2.选择外部初始条件 通过外部信号传递初始值

![image-20250622010744879](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622010744879.png)

**设置上下极限**

![image-20250622011042488](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622011042488.png)

**设置复位条件**

![image-20250622011311809](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622011311809.png)

![image-20250622011825065](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622011825065.png)

**状态端口**

![image-20250622012026536](./Simulink%E5%AD%A6%E4%B9%A0.assets/image-20250622012026536.png)

### 单位延迟模块